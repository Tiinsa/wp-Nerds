jQuery(document).ready(function(a){a("ul.products li:not(.category)").on("styleswitch elastiautoslide",function(){var b=a(this),c;b.on({mouseenter:function(){b.hasClass("grid")&&(b.height(b.height()-1),b.find(".product-actions-wrapper").height(b.find(".product-actions").height()+20),("ie8"==a("html").attr("id")||"ie9"==a("html").attr("id"))&&b.addClass("js_hover"),clearTimeout(c))},mouseleave:function(){b.hasClass("grid")&&(("ie8"==a("html").attr("id")||"ie9"==a("html").attr("id"))&&b.removeClass("js_hover"), b.find(".product-actions-wrapper").height(0),c=setTimeout(function(){b.css("height","auto")},700))}})}).trigger("styleswitch");a(".list-or-grid a").on("click",function(){var b=a(this).attr("class").replace("-view","");YIT_Browser.isIE8()&&(b=b.replace(" last-child",""));a("ul.products li").removeClass("list grid").addClass(b);a(this).parent().find("a").removeClass("active");a(this).addClass("active");a.cookie(yit_shop_view_cookie,b);a("ul.products li").trigger("styleswitch");return!1});var c;a("ul.products li.product .add_to_cart_button").on("click", function(){c=a(this).parents("li.product");c.find(".product-thumbnail").block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.3,cursor:"none"}});a(".widget.woocommerce.widget_shopping_cart a.cart_control").show();a(".widget.woocommerce.widget_shopping_cart a.cart_control.cart_control_empty").remove()});a("body").on("added_to_cart",function(){0==c.find(".thumbnail-wrapper .added").length&&(c.find(".thumbnail-wrapper").append('<span class="added">added</span>'), c.find(".added").fadeIn(500));c.find(".product-thumbnail").unblock()});if(void 0!==a.fn.selectbox){var d=a("form.variations_form");d.find("select");d.find("select").selectbox({effect:"fade",onOpen:function(){}});var e=function(){d.find("select").selectbox("detach");d.find("select").selectbox("attach")};d.on("woocommerce_update_variation_values",e);d.find(".reset_variations").on("click",e)}var g;a(".yith-wcwl-add-button a").on("click",function(){g=a(this);g.block({message:null,overlayCSS:{background:"#fff url("+ woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6,cursor:"none"}})});e=function(){0!=a(this).parent().find(".feedback").length&&a(this).tipTip({defaultPosition:"top",maxWidth:"auto",edgeOffset:20,content:a(this).parent().find(".feedback").text()})};a(".yith-wcwl-add-to-wishlist a").each(e).on("mouseenter",e);a.fn.carouFredSel&&(a(".products-slider-wrapper").each(function(){a(this).imagesLoaded(function(){var b=a(this),c=carouFredSelOptions_defaults.items; if(0==a(this).parents(".border-box").length){var d,e=a(this).find(".es-nav-prev").show(),f=a(this).find(".es-nav-next").show();carouFredSelOptions_defaults.prev=e;carouFredSelOptions_defaults.next=f;767>=a("body").outerWidth()?(b.find("li").each(function(){a(this).width(b.width())}),carouFredSelOptions_defaults.items=1):(b.find("li").each(function(){a(this).attr("style","")}),carouFredSelOptions_defaults.items=c);d=a(this).find(".products").carouFredSel(carouFredSelOptions_defaults);a("body").hasClass("responsive")&& a(window).resize(function(){d.trigger("destroy",!1).attr("style","");767>=a("body").outerWidth()?(b.find("li").each(function(){a(this).width(b.width())}),carouFredSelOptions_defaults.items=1):(b.find("li").each(function(){a(this).attr("style","")}),carouFredSelOptions_defaults.items=c);d.carouFredSel(carouFredSelOptions_defaults)});a(document).on("feature_tab_opened",function(){a(window).trigger("resize")})}})}),a(".es-nav-prev, .es-nav-next").removeClass("hidden").show());a(".responsive ul.products li.product.grid.force-classic-on-mobile").on("force_classic", function(){768>a(window).width()?a(this).addClass("classic").removeClass("with-hover"):a(this).addClass("with-hover").removeClass("classic")}).trigger("force_classic");a(window).resize(function(){a(".responsive ul.products li.product.grid.force-classic-on-mobile").trigger("force_classic")});var f,h=!1;a(".button.woo_bt_compare_this").on("click",function(){h=!0;f=a(this).parents("li.product");f.find(".product-thumbnail").block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+ "/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6,cursor:"none"}})});a("body").on("woo_update_total_compare_list",function(){f.find(".product-thumbnail").unblock();h&&"window"==woo_comparable_open_compare_type?a(".woo_compare_button_go").trigger("click"):"new_page"==woo_comparable_open_compare_type&&(console.log("apri nuova pagina"),window.open(woo_compare_url,"_blank").focus())});if("new_page"==woo_comparable_open_compare_type)a(".woo_compare_button_go a").on("click",function(){window.open(woo_compare_url, "_blank").focus()});a("#sidebar-shop-sidebar .widget h3").prepend('<div class="minus" />');a("#sidebar-shop-sidebar .widget").on("click","h3",function(){a(this).parent().find("> *:not(h3)").slideToggle();a(this).find("div").hasClass("minus")?a(this).find("div").removeClass("minus").addClass("plus"):a(this).find("div").removeClass("plus").addClass("minus")})});